function _hasClass(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function _hasData(t,e){return t.dataset?t.dataset.hasOwnProperty(e):t.getAttribute("data-"+e)}function resizeIframe(t){t.style.height=t.contentWindow.document.body.scrollHeight+"px"}function fetchJson(t,e,n,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&(200===i.status?e(JSON.parse(i.responseText)):n())},i.open("GET",t);o=o||{};Object.keys(o).forEach(function(t){i.setRequestHeader(t,o[t])}),i.send()}function GMC(t,e){"use strict";var n=this,o="https://api.github.com/repos/";this.repoFullName=t.getAttribute("data-gmc-repo"),this.username=t.getAttribute("data-gmc-user"),this.json=e,this.root_el=null,this.fetchJson=function(t,e,n){var o={};"string"==typeof GH_API_KEY&&(o.Authorization="token "+GH_API_KEY),o.Accept="application/vnd.github.mercy-preview+json",fetchJson(t,e,n,o)},this.fillWithRepoName=function(){n.fetchJson(o+n.repoFullName,function(t){n.json=t,n.fillWithJson()},function(){n.markError()})},this.fillWithUserName=function(){n.fetchJson(o+"users/"+n.repoFullName,function(t){n.json=t,n.fillWithJson()},function(){n.markError()})},this.fillWithJson=function(){n.root_el&&n.json&&(n.repoFullName||n.username)&&(n.root_el.querySelectorAll("[data-gmc-id]").forEach(function(t){!function(t,e){var o=t.getAttribute("data-gmc-id");if(o){var i=(o=o.replace(" ","")).split(",");i.forEach(function(o){!function(t,e,o){var i=o.split("__");if(i.length<2)return;var r=i[1],s=i[0],a=i.length>=2&&"js"==i[2]&&t.getAttribute("data-gmc-js");!function(t,e,o,i,r){var s=o.split("-"),a=e,c=null;if(s.some(function(t){return!a.hasOwnProperty(t)||("object"!=typeof a[t]?(c=a[t],!0):void(a=a[t]))}),r){var l=t.getAttribute("data-gmc-js");"function"==typeof window[l]&&(c=window[l].call(null,c,t,n))}if(null===c)return;var u="string"==typeof n.root_el.getAttribute("data-gmc-ap");if("in"==i){var f=u?t.textContent:"";t.textContent=f+c}else{var h="";u&&t.hasAttribute(i)&&(h=t.getAttribute(i)),t.setAttribute(i,h+c)}}(t,e,r,s,a)}(t,e,o)})}}(t,n.json)}),this.markAsLoaded(),"object"==typeof this.iframe&&resizeIframe(this.iframe))},this.markAsLoaded=function(){n.root_el.className+=" gmc-loaded"},this.markError=function(){n.root_el.className+=" gmc-error"},n.root_el=t,this.json?this.fillWithJson():this.repoFullName?this.fillWithRepoName():this.username&&this.fillUserName()}GMC.loadAllCards=function(t){document.querySelectorAll("[data-gmc-repo], [data-gmc-user]").forEach(function(e){new GMC(e,t)})};