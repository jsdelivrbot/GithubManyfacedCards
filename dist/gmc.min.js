function _hasClass(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function _hasData(t,e){return t.dataset?t.dataset.hasOwnProperty(e):t.getAttribute("data-"+e)}function resizeIframe(t){t.style.height=t.contentWindow.document.body.scrollHeight+"px"}function fetchJson(t,e,o,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status?e(JSON.parse(r.responseText)):o())},r.open("GET",t);n=n||{};Object.keys(n).forEach(function(t){r.setRequestHeader(t,n[t])}),r.send()}function GMC(t,e){"use strict";var o=this;if(this.repoFullName=t.getAttribute("data-gmc-repo"),this.json=e,this.root_el=null,this.fillWithRepoName=function(){var t={};"string"==typeof GH_API_KEY&&(t.Authorization="token "+GH_API_KEY),t.Accept="application/vnd.github.mercy-preview+json",fetchJson("https://api.github.com/repos/"+o.repoFullName,function(t){o.json=t,o.fillWithRepoJson()},function(){o.markError()},t)},this.fillWithRepoJson=function(){o.root_el&&o.json&&o.repoFullName&&(o.root_el.querySelectorAll("[data-gmc-id]").forEach(function(t){!function(t,e){var n=t.getAttribute("data-gmc-id");if(n){var r=(n=n.replace(" ","")).split(",");r.forEach(function(n){!function(t,e,n){var r=n.split("__");if(r.length<2)return;var i=r[1],a=r[0],s=r.length>=2&&"js"==r[2]&&t.getAttribute("data-gmc-js");!function(t,e,n,r,i){var a=n.split("-"),s=e,c=null;if(a.some(function(t){return!s.hasOwnProperty(t)||("object"!=typeof s[t]?(c=s[t],!0):void(s=s[t]))}),i){var l=t.getAttribute("data-gmc-js"),u=t.ownerDocument,f=u.defaultView||u.parentWindow;"function"==typeof f[l]&&(c=f[l].call(null,c,t,o))}if(null===c)return;var h="string"==typeof o.root_el.getAttribute("data-gmc-ap");if("in"==r){var m=h?t.textContent:"";t.textContent=m+c}else{var d="";h&&t.hasAttribute(r)&&(d=t.getAttribute(r)),t.setAttribute(r,d+c)}}(t,e,i,a,s)}(t,e,n)})}}(t,o.json)}),this.markAsLoaded(),"object"==typeof this.iframe&&resizeIframe(this.iframe))},this.markAsLoaded=function(){o.root_el.className+=" gmc-loaded"},this.markError=function(){o.root_el.className+=" gmc-error"},"IFRAME"===t.tagName)if(this.iframe=t,t.onload=function(){o.root_el=t.contentWindow.document.body,o.fillWithRepoJson()},t.getAttribute("data-gmc-theme-url"))t.src=t.getAttribute("data-gmc-theme-url");else{var n=t.getAttribute("data-gmc-theme")||"gh_pure";t.src="https://cdn.rawgit.com/tsucres/GithubManyfacedCards/master/dist/themes/"+n+".html"}else o.root_el=t;this.json?this.fillWithRepoJson():this.fillWithRepoName()}GMC.loadAllCards=function(t){document.querySelectorAll("[data-gmc-repo]").forEach(function(e){new GMC(e,t)})};